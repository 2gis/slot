#LCP - библиотеки, компоненты, плагины

##Библиотеки

Суть js-функции, котороые что-то делают. Библиотека хранится в папке lib/ в отдельном файле, или в отдельной папке в нескольких файлах: во втором случае подключаемый файл должен иметь имя index.js. Библиотеки собираются через browserify просто по факту их подключения через require('slot/lib/libName');

##Компоненты

Зависимые от app штуки, опционально подключаемые в модулях через dependency-injection или через slot.requireComponent. Для сборки компонентов их необходимо перечислить в config.components = ['comp1name', 'comp2name'] (по-умолчанию файлы компонентов в сборку не попадают). После этого в модуле их достаточно подключить так:

```js
module.exports = function(slot, $comp1name) {}
```

или так:

```js
module.exports = function(slot) {
    var comp2name = slot.requireComponent(comp1name);
}
```

Если в приложении есть компонент, который называется так же, как один из существующих компонентов слота, будет подключен компонент из приложения.

##Плагины

Зависимые от app штуки, подключаемые как методы app.pluginName и/или slot.pluginName. Для сборки плагинов их необходимо перечислить в config.plugins = ['plugin1name', 'plugin2name'] (по-умолчанию файлы плагинов в сборку не попадают). После этого они доступны в app и/или в slot:

```js
app.plugin1name();
slot.plugin1name();
```

Структура плагина такая:

```js
module.exports = function(app) {
    function plugin1name() {
        // Код плагина
    }

    // Если хотим поркинуть плагин в app
    app.plugin1name = plugin1name;

    // Если хотим поркинуть плагин в slot
    app.on('slotInit', function(slot) {
        slot.plugin1name = plugin1name;
    });
}
```

Функция, которая присваивается в module.exports, выполняется 1 раз на этапе инициализации приложения (после initStart и waitFor функций, но до инициализации главного модуля). Здесь можно подключить плагин в app под любым именем. Рекомендуется использовать имя плагина.

Плагин можно подключить так же в каждый slot: для этого используется событие slotInit, которое срабатывает для каждого slot сразу после его инстанцирования, для каждого модуля.

Если в приложении есть плагин, который называется так же, как один из существующих плагинов слота, будет подключен плагин из приложения.
