##Использование в приложении

Для использования задач по локализации необходимо использование gulpy

```javascript
var slotI18n = require('slot/i18n/tasks')(pot);

gulp.task('i18n.extract', slotI18n.extract(extractParams));

gulp.task('i18n.init', slotI18n.extract(initParams));

gulp.task('i18n.update', slotI18n.extract(updateParams));

gulp.task('i18n.po2json', slotI18n.extract(po2jsonParams));

```

Все пути в параметрах задач задаются относительно расположения gulpfile, из которого задача будет запущена.

##Инициализация новой локали
```javascript
gulp i18n.init --locale=LOCALE_NAME

```
Параметры:

| Параметр  | Тип       | Значение по умолчанию     | Описание                                                              |
| --------- |:---------:| --------------------------|-----------------------------------------------------------------------|
| src       | String    | './l10n/messages.pot'     | Путь до файла-шаблона переводов                                       |
| dest      | String    | './l10n'                  | Путь, где необходимо создать директорию с данными для новой локали    |

##Экстрактор строк

В качестве экстрактора используется babel, он должен быть установлен
`pip install babel`

Параметры:

| Параметр              | Тип       | Значение по умолчанию                                             | Описание                                                  |
| ----------------------|:---------:| ------------------------------------------------------------------| ----------------------------------------------------------|
| src                   | Array     | ['blocks/', 'components/', 'helpers/', 'modules/']                | Директории, в которых необходимо искать строки            |
| dest                  | String    | './l10n'                                                          | Файл-шаблон, в который будут записаны найденные строки    |
| keyword               | Array     | [ '_t', '_nt:1,3', '_pt:1c,2', '_npt:1c,2,4', '_ht', '_hnt:1,3']  | Ключевые слова, по которым производится поиск строк       |
| mapping               | String    | Абсолютный путь до файла babel.cfg в slot                         |                                                           |
| add-comments          | Array     | ['";"']                                                           | Ключевые слова для поиска комментариев к строкам          |
| width                 | Number    | 160                                                               | Длина строки в файле переводов                            |
| sort-output           | Boolean   | true                                                              | Сортировать ли строки по алфавиту                         |
| no-default-keywords   | Boolean   | true                                                              |                                                           |
| strip-comment-tags    | Boolean   | true                                                              |                                                           |
| no-location           | Boolean   | true                                                              | Не указывать номера строк, где был найден текст           |
| msgid-bugs-address    | String    | ''                                                                | Вписывается в соответствующее поле в файле переводов      |
| copyright-holder      | String    | ''                                                                | Вписывается в соответствующее поле в файле переводов      |


##Обновление файлов переводов

Параметры:

| Параметр              | Тип       | Значение по умолчанию     | Описание                                                      |
| ----------------------|:---------:| --------------------------| --------------------------------------------------------------|
| src                   | String    | './l10n/messages.pot'     | Путь до файла-шаблона переводов                               |
| dest                  | String    | './l10n'                  | Путь, где необходимо искать директории с данными для локалей  |
| width                 | Number    | 160                       | Длина строки в файле переводов                                |
| no-fuzzy-matching     | Boolean   | true                      |                                                               |
| ignore-obsolete       | Boolean   | false                     |                                                               |

##Создание JSON-файла переводов

Без параметров

